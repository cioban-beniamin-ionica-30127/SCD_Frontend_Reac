{"ast":null,"code":"var _jsxFileName = \"/mnt/nvme0n1p2/SCD/untitled/src/components/LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport extractRoleFromToken from '../services/JwtDecoder';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, TextField, Container, CssBaseline, Typography } from '@mui/material';\nimport { styled } from '@mui/system';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPageStyle = styled('div')({\n  height: '100vh',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  background: 'linear-gradient(to right, #6DD5FA, #FF758C)' // Example gradient\n});\n_c = LoginPageStyle;\nconst StyledTextField = styled(TextField)({\n  '& label.Mui-focused': {\n    color: 'white'\n  },\n  '& .MuiInput-underline:after': {\n    borderBottomColor: 'white'\n  },\n  '& .MuiOutlinedInput-root': {\n    '& fieldset': {\n      borderColor: 'white'\n    },\n    '&:hover fieldset': {\n      borderColor: 'white'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: 'white'\n    }\n  }\n});\n_c2 = StyledTextField;\nconst StyledButton = styled(Button)({\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n  color: 'white',\n  marginTop: '20px'\n});\n_c3 = StyledButton;\nconst useStyles = styled(theme => ({\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  }\n}));\nconst LoginPage = () => {\n  _s();\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    try {\n      var _result$data;\n      const requestBody = {\n        username: username,\n        password: password\n      };\n      const result = await axios.post(\"http://localhost:8080/api/v1/users/login\", requestBody);\n      const jwt = result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.token;\n      localStorage.setItem(\"jwt\", jwt);\n      const role = extractRoleFromToken(jwt);\n      if (role === \"DIRECTOR\") {\n        console.log('ROLE IS DIRECTOR ---- OK');\n        navigate('/employeeManagement');\n      } else {\n        console.error('Unauthorized access');\n      }\n      console.log('User Role:', role);\n    } catch (error) {\n      console.error('Error logging in:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LoginPageStyle, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(LockOutlinedIcon, {\n          style: {\n            color: 'white',\n            marginBottom: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          style: {\n            color: 'white'\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(StyledTextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"username\",\n            label: \"Username\",\n            name: \"username\",\n            autoComplete: \"username\",\n            autoFocus: true,\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            autoComplete: \"current-password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n            fullWidth: true,\n            variant: \"contained\",\n            className: classes.submit,\n            onClick: handleLogin,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 7\n  }, this);\n};\n_s(LoginPage, \"K3mu8CVCTwcJxqUa5bhiaCAdh74=\", false, function () {\n  return [useStyles, useNavigate];\n});\n_c4 = LoginPage;\nexport default LoginPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LoginPageStyle\");\n$RefreshReg$(_c2, \"StyledTextField\");\n$RefreshReg$(_c3, \"StyledButton\");\n$RefreshReg$(_c4, \"LoginPage\");","map":{"version":3,"names":["React","useState","axios","extractRoleFromToken","useNavigate","Button","TextField","Container","CssBaseline","Typography","styled","LockOutlinedIcon","jsxDEV","_jsxDEV","LoginPageStyle","height","display","alignItems","justifyContent","background","_c","StyledTextField","color","borderBottomColor","borderColor","_c2","StyledButton","marginTop","_c3","useStyles","theme","paper","flexDirection","form","width","spacing","LoginPage","_s","classes","username","setUsername","password","setPassword","navigate","handleLogin","_result$data","requestBody","result","post","jwt","data","token","localStorage","setItem","role","console","log","error","children","component","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","className","style","marginBottom","variant","noValidate","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","e","target","type","submit","onClick","_c4","$RefreshReg$"],"sources":["/mnt/nvme0n1p2/SCD/untitled/src/components/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport extractRoleFromToken from '../services/JwtDecoder';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, TextField, Container, CssBaseline, Typography } from '@mui/material';\r\nimport { styled } from '@mui/system';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\n\r\nconst LoginPageStyle = styled('div')({\r\n  height: '100vh',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  background: 'linear-gradient(to right, #6DD5FA, #FF758C)', // Example gradient\r\n});\r\n\r\nconst StyledTextField = styled(TextField)({\r\n  '& label.Mui-focused': {\r\n    color: 'white',\r\n  },\r\n  '& .MuiInput-underline:after': {\r\n    borderBottomColor: 'white',\r\n  },\r\n  '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n      borderColor: 'white',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: 'white',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst StyledButton = styled(Button)({\r\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n  color: 'white',\r\n  marginTop: '20px',\r\n});\r\n\r\nconst useStyles = styled((theme) => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst LoginPage = () => {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const requestBody = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n      const result = await axios.post(\"http://localhost:8080/api/v1/users/login\", requestBody);\r\n      const jwt = result?.data?.token;\r\n\r\n      localStorage.setItem(\"jwt\", jwt);\r\n\r\n      const role = extractRoleFromToken(jwt);\r\n\r\n      if (role === \"DIRECTOR\") {\r\n        console.log('ROLE IS DIRECTOR ---- OK');\r\n        navigate('/employeeManagement');\r\n      } else {\r\n        console.error('Unauthorized access');\r\n      }\r\n\r\n      console.log('User Role:', role);\r\n    } catch (error) {\r\n      console.error('Error logging in:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n      <LoginPageStyle>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <LockOutlinedIcon style={{ color: 'white', marginBottom: '20px' }} />\r\n            <Typography component=\"h1\" variant=\"h5\" style={{ color: 'white' }}>\r\n              Login\r\n            </Typography>\r\n            <form className={classes.form} noValidate>\r\n              <StyledTextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"username\"\r\n                  label=\"Username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n              />\r\n              <StyledTextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              <StyledButton\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  className={classes.submit}\r\n                  onClick={handleLogin}\r\n              >\r\n                Login\r\n              </StyledButton>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n      </LoginPageStyle>\r\n  );\r\n};\r\n\r\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}